(window.webpackJsonp=window.webpackJsonp||[]).push([["control-layersControlFactory"],{pgHV:function(e,n,o){"use strict";o.r(n);var a=o("5SBJ");function i(e){return`<span class="cowegis-layer cowegis-layer-${e.cowegis.type}">${e.cowegis.title}</span>`}function t(e,n,o,a){n.forEach((function(n){e.layers.hasOwnProperty(n)?o.available[a(e.layers[n])]=e.layers[n]:o.pending.push(n)}))}function s(e,n,o,a){if(0===n.pending.length)return;const i=function(t){const s=n.pending.indexOf(t.detail.config.layerId);s<0||(o(t.detail.layer,a(t.detail.layer)),n.pending.splice(s,1),0===n.pending.length&&e.removeEventListener("cowegis:layer:add",i))};e.addEventListener("cowegis:layer:add",i)}function r(e,n){if(null===n.namespace)return e.listeners[n.reference];let o=e.listeners;return n.namespace.forEach((function(e){o=o[e]})),o[n.reference]}n.default=async function(e,n){const o={available:{},pending:[]},l={available:{},pending:[]};e.options.sortFunction?e.options.sortFunction=r(n,e.options.sortFunction):e.options.sortLayers||(e.options.sortLayers=!0,e.options.sortFunction=function(e){return function(n,o){let a,i=e.baseLayers.indexOf(n.cowegis.layerId);return i>=0?a=e.baseLayers.indexOf(o.cowegis.layerId):(i=e.overlays.indexOf(n.cowegis.layerId),a=e.overlays.indexOf(o.cowegis.layerId)),i-a}}(e));const c=e.options.nameFunction?r(n,e.options.nameFunction):i;t(n,e.baseLayers,o,c),t(n,e.overlays,l,c);const d=a.default.control.layers(o.available,l.available,e.options);return s(n,o,d.addBaseLayer.bind(d),c),s(n,l,d.addOverlay.bind(d),c),d}}}]);